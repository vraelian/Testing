/* css/news-ticker.css */

#news-ticker-bar {
    width: 100%;
    height: 24px; /* Vertically thin, as requested */
    background-color: rgba(0, 0, 0, 0.3);
    border-top: 1px solid #2a3a5a;
    border-bottom: 1px solid #2a3a5a;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.4);
    overflow: hidden; /* This is crucial */
    position: relative;
    display: flex;
    align-items: center;
    /* Added transition for smooth theme changes */
    transition: background-image 0.5s ease, border-color 0.5s ease, background-color 0.5s ease;
    /* Added rounded bottom corners */
    border-bottom-left-radius: 17px;
    border-bottom-right-radius: 17px;
}

.news-ticker-content {
    /* JITTER FIX: Use Flexbox layout */
    /* ARCHITECTURAL WARNING: Do not remove 'display: flex' or 'width: fit-content'.
       This structure ensures that the container width is exactly equal to the 
       sum of its children, guaranteeing that -50% is exactly one child width. */
    display: flex;
    width: fit-content; 
    white-space: nowrap;
    position: absolute;
    will-change: transform;
    
    /* MODIFIED: Animation properties separated */
    animation-name: scroll-ticker;
    animation-duration: 120s; /* Fallback duration */
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    
    /* Font styling */
    font-family: 'Oxanium Medium', 'Exo 2', sans-serif;
    font-weight: 500;
    font-size: 0.85rem;
    color: var(--ot-text-primary, #d0d8e8);
}

.news-ticker-content:hover {
    animation-play-state: paused; /* Pause scroll on hover */
}

/* JITTER FIX: Wrapper for the content blocks */
.ticker-block {
    flex: 0 0 auto; /* Do not shrink or grow */
    display: flex;  /* Keep internal spans in line */
    align-items: center;
    /* BLINK FIX: Hardware Acceleration for the block itself */
    /* Prevents repainting when the loop resets at 0px */
    transform: translate3d(0,0,0);
    backface-visibility: hidden;
}

/*
 * The scrolling animation. 
 * JITTER FIX: Reverted to simple -50%.
 * Because we now use two identical .ticker-block flex items,
 * the container width is mathematically guaranteed to be 2x the block width.
 * Therefore, -50% is guaranteed to be exactly 1x block width.
 */
@keyframes scroll-ticker {
    0%   { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

/* --- Message Type Styling --- */

.ticker-separator {
    color: var(--color-text-secondary);
    opacity: 0.7;
    white-space: nowrap;
    margin: 0 1rem;
}

.ticker-message {
    display: inline;
    white-space: nowrap;
    padding: 0 1rem;
    /* Fallback color */
    color: var(--color-text-primary);
}

/* --- UPDATED & NEW V2 STYLES --- */

/* SYSTEM: bold white */
.ticker-message[data-type="SYSTEM"] {
    color: var(--color-white);
    font-weight: bold;
    font-style: normal; /* Override old style */
}

/* INTEL: credit-blue */
.ticker-message[data-type="INTEL"] {
    color: var(--color-credit-blue);
    font-style: normal; /* Override old style */
}

/* FLAVOR: Default color, italics removed. */
/* Color is now applied dynamically via inline style in NewsTickerService.js */
.ticker-message[data-type="FLAVOR"] {
    color: var(--color-text-primary); /* Base color, will be overridden */
    font-style: normal; /* Override old style */
}

/* ALERT: red, all caps, bold */
.ticker-message[data-type="ALERT"] {
    color: var(--color-red);
    font-weight: bold;
    text-transform: uppercase;
    font-style: normal;
}

/* STORY: golden yellow, bold, italicized */
.ticker-message[data-type="STORY"] {
    color: var(--color-golden-yellow);
    font-weight: bold;
    font-style: italic;
}

/* STATUS: green, all caps */
.ticker-message[data-type="STATUS"] {
    color: var(--color-green);
    text-transform: uppercase;
    font-style: normal;
}