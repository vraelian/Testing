/* css/screens/intel-screen.css */
.intel-scroll-panel {
    /* height: 75vh; */ /* REMOVED */
    overflow-y: auto;
    scrollbar-width: none; /* For Firefox */
    -ms-overflow-style: none; /* For Internet Explorer 10+ */
    padding: 0; /* Padding is now on the content divs */
    touch-action: pan-y; /* Allow vertical scrolling */
    flex-grow: 1; /* Ensure it fills space */
    /* VIRTUAL WORKBENCH: Removed display:flex to fix scrolling/layout */
}
.intel-scroll-panel::-webkit-scrollbar {
    display: none; /* For Chrome, Safari, and Opera */
}

/* New Lore Modal Theming */
#lore-modal .modal-content {
    border-color: var(--theme-border-color, #4a6a8a);
    background: radial-gradient(circle, #1a2030 0%, #0c101d 100%);
}

#lore-modal-content p {
    margin-bottom: 1rem;
}

/* Themed scrollbar 
for lore content */
#lore-modal-content::-webkit-scrollbar {
    width: 8px;
}

#lore-modal-content::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}

#lore-modal-content::-webkit-scrollbar-thumb {
    background-color: var(--theme-border-color, #4a6a8a);
    border-radius: 4px;
    border: 2px solid transparent;
    background-clip: content-box;
}

#lore-modal-content::-webkit-scrollbar-thumb:hover {
    background-color: var(--theme-border-color, #6b8fb8);
}

/* --- VIRTUAL WORKBENCH: ADD NEW INTEL STYLES --- */

/* Tab Content Styling */
.intel-tab-content {
    display: none; /* Hidden by default */
    width: 100%;
    /* flex-grow: 1; */ /* No longer needed, parent isn't flex */
}
.intel-tab-content.active {
    display: block; /* Shown when active */
}

/* Intel Market Button Styling */
.btn-intel {
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 1px;
    background-color: #1e293b; /* slate-800 */
    border: 1px solid #334155; /* slate-700 */
    color: #cbd5e1; /* slate-300 */
    padding: 0.75rem 1rem;
    text-align: center;
    transition: all 0.2s ease-in-out;
}

.btn-intel:hover:not(:disabled) {
    background-color: #334155; /* slate-700 */
    border-color: #475569; /* slate-600 */
    color: #f1f5f9; /* slate-100 */
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

/* Intel "Buy" Button in Modal */
.btn-intel-buy {
    font-family: 'Orbitron', sans-serif;
letter-spacing: 1px;
    background-color: var(--ot-green-accent, #4ade80);
    border: 1px solid #86efac; /* green-300 */
    color: #064e3b; /* green-900 */
    padding: 0.75rem 1rem;
    text-align: center;
    transition: all 0.2s ease-in-out;
    font-weight: bold;
}

.btn-intel-buy:hover:not(:disabled) {
    background-color: #86efac; /* green-300 */
    transform: translateY(-1px);
    box-shadow: 0 0 15px rgba(74, 222, 128, 0.5);
}

/* Disabled state for locked intel buttons */
.btn-intel:disabled {
    background-color: #0f172a; /* slate-900 */
    border-color: #1e293b; /* slate-800 */
    color: #334155; /* slate-700 */
    cursor: not-allowed;
    opacity: 0.6;
}

/* --- VIRTUAL WORKBENCH: THEMED PURCHASED BUTTON (REQUEST A) --- */
/* New style for purchased, themed intel buttons */
.btn-intel-purchased {
    /* Apply theme variables provided by the renderer */
    background: var(--theme-gradient, linear-gradient(135deg, #4a5568, #2d3748));
    border-color: var(--theme-border-color, #7a9ac0);
    color: var(--theme-text-color, #f0f0ff);
    
    /* Use the border color for the glow animation */
    --theme-glow-color: var(--theme-border-color, #7a9ac0);
    
    /* Re-use the existing themed-glow-animation from global.css */
    animation: themed-glow-animation 3s infinite;
}

.btn-intel-purchased:hover:not(:disabled) {
    /* On hover, revert to a standard non-animated style for consistency */
    background: #334155; /* slate-700 */
    border-color: #475569; /* slate-600 */
    color: #f1f5f9; /* slate-100 */
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    animation: none; /* Stop glowing on hover */
}
/* --- END VIRTUAL WORKBENCH --- */


/* --- VIRTUAL WORKBENCH: REFINED INTEL TAB STYLES (SLIDING, THEMED, RESIZED) --- */

#intel-screen .sub-nav-bar {
    position: relative; /* For the sliding pseudo-element */
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: stretch; /* Make buttons fill height */
    
    /* Recessed panel look */
    background-color: #0D1117; /* bg-[#0D1117] */
    border-bottom: 1px solid var(--theme-border-color, #334155);
    border-radius: 0.375rem; /* rounded-md */
    padding: 0.125rem; /* p-0.5, reduced by ~30% */
    box-shadow: inset 0 1px 3px 
rgba(0,0,0,0.4); /* shadow-inner */
    
    gap: 0; /* Buttons are joined */
    width: 100%;
    flex-shrink: 0; /* Prevent shrinking */
    
    /* Reduced skew */
    --intel-skew: 8px; 
}

/*
  This is the "gliding highlight" pseudo-element.
  It lives on the bar and moves behind the buttons.
*/
#intel-screen .sub-nav-bar::after {
    content: '';
    position: absolute;
    top: 0.125rem;
    bottom: 0.125rem;
    left: 0.125rem;
    width: calc(50% - 0.125rem); /* Half width, minus padding */
    z-index: 5; /* Sits behind text, above 
bar bg */
    
    /* THEME: Use location gradient and shadow */
    background: var(--theme-gradient, linear-gradient(135deg, #4a5568, #2d3748));
    box-shadow: 0 0 10px -2px var(--theme-border-color, #4a5568);
    
    /* Default clip-path for "Codex" (left side) */
    clip-path: polygon(0% 0%, 100% 0%, calc(100% - var(--intel-skew)) 100%, 0% 100%);
    
    /* ANIMATION: Enable sliding transition */
    transition: transform 0.3s ease-in-out, clip-path 0.3s ease-in-out;
}

/*
  This class is added by UIManager.js to slide the highlight.
*/
#intel-screen .sub-nav-bar.market-active::after {
    /* Move slider to the right */
    
transform: translateX(100%);
    
    /* New clip-path for "Intel Market" (right side) */
    clip-path: polygon(var(--intel-skew) 0%, 100% 0%, 100% 100%, 0% 100%);
}


/*
  Base button styles.
  The button itself is transparent; only the text is visible.
*/
#intel-screen .sub-nav-button {
    position: relative; 
    z-index: 10; /* Text is on top of the slider */
    flex: 1 1 0; /* flex-1 */

    font-family: 'Orbitron', sans-serif;
    font-size: 0.75rem; /* text-xs, reduced */
    
    /* THEME: Use dim color for inactive text */
    color: 
#94a3b8; /* text-slate-400 */
    background: transparent; /* Button is see-through */
    border: none;
    
    /* RESIZE: Reduced vertical padding */
    padding: 0.375rem 1rem; /* py-1.5, reduced by ~30% */
    
    cursor: pointer;
    transition: color 0.3s ease-in-out;
    text-transform: uppercase;
    letter-spacing: 0.05em; /* tracking-wider */
    font-weight: 500;
}

/* Apply angled clip-path and padding compensation */
#intel-screen .sub-nav-button[data-target="intel-codex-content"] {
    clip-path: polygon(0% 0%, 100% 0%, calc(100% - var(--intel-skew)) 100%, 0% 100%);
    padding-right: var(--intel-skew); /* Compensate for clip */
    text-align: center;
}

#intel-screen 
.sub-nav-button[data-target="intel-market-content"] {
    clip-path: polygon(var(--intel-skew) 0%, 100% 0%, 100% 100%, 0% 100%);
    margin-left: calc(-1 * var(--intel-skew)); /* Overlap buttons */
    padding-left: var(--intel-skew); /* Compensate for clip */
    text-align: center;
}


/* Hover state for *inactive* buttons */
#intel-screen .sub-nav-button:not(.active):hover {
    /* THEME: Use bright theme color on hover */
    color: var(--theme-text-color, #f0f0f0);
    opacity: 0.8;
}

/* Active state *text* color */
#intel-screen .sub-nav-button.active {
    /* THEME: Use bright theme color for active text */
    color: var(--theme-text-color, #f0f0f0);
    font-weight: 700;
}


/* --- END VIRTUAL 
WORKBENCH --- */